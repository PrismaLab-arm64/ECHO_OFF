<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#000000">
    <meta name="description" content="ECHO_OFF - Comunicaciรณn P2P cifrada con estรฉtica cyberpunk">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>ECHO_OFF v1.0.2 | Terminal Hacker</title>
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" href="icon-192.png">
    <link rel="apple-touch-icon" href="icon-512.png">
</head>
<body>
    <!-- PWA Install Prompt -->
    <div id="install-prompt" class="install-prompt hidden">
        <div class="install-content">
            <p class="install-title">โก INSTALAR ECHO_OFF</p>
            <p class="install-text">Instala esta aplicaciรณn para acceso rรกpido y modo offline</p>
            <div class="install-buttons">
                <button id="btn-install" class="terminal-button">INSTALAR</button>
                <button id="btn-cancel-install" class="terminal-button secondary">CANCELAR</button>
            </div>
        </div>
    </div>

    <!-- Loading Splash Screen -->
    <div id="splash-screen" class="splash-screen active">
        <div class="splash-content">
            <div class="skull-icon">
                <img src="icon.svg" alt="ECHO_OFF" width="150" height="150">
            </div>
            <div class="loading-text">
                <p class="glitch-splash" data-text="ECHO_OFF">ECHO_OFF</p>
                <p class="subtitle-splash">SISTEMA DE COMUNICACIรN ENCRIPTADA</p>
            </div>
            <div class="loading-bar">
                <div class="loading-progress"></div>
            </div>
            <div class="loading-status">INICIALIZANDO PROTOCOLO DE SEGURIDAD...</div>
        </div>
    </div>

    <!-- Scanlines Effect -->
    <div class="scanlines"></div>
    
    <!-- Main Terminal Container -->
    <div id="terminal" class="hidden">
        <!-- Header -->
        <div class="terminal-header">
            <div class="header-title">
                <span class="glitch" data-text="ECHO_OFF">ECHO_OFF</span>
                <span class="version">v1.0.2</span>
            </div>
            <div class="status-indicator">
                <span id="status">โ DESCONECTADO</span>
            </div>
        </div>

        <!-- Welcome Screen -->
        <div id="welcome-screen" class="screen active">
            <pre class="ascii-art">
 โโโโโโโโ โโโโโโโโโโ  โโโ โโโโโโโ      โโโโโโโ โโโโโโโโโโโโโโโโ
 โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโโโโโโโ
 โโโโโโ  โโโ     โโโโโโโโโโโ   โโโ    โโโ   โโโโโโโโโ  โโโโโโ  
 โโโโโโ  โโโ     โโโโโโโโโโโ   โโโ    โโโ   โโโโโโโโโ  โโโโโโ  
 โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโ    โโโโโโโโโโโโ     โโโ     
 โโโโโโโโ โโโโโโโโโโ  โโโ โโโโโโโ      โโโโโโโ โโโ     โโโ     
            </pre>
            <div class="welcome-text">
                <p class="typing-text">&gt; Iniciando conexiรณn peer-to-peer segura...</p>
                <p class="typing-text delay-1">&gt; Protocolo zero-trace activado</p>
                <p class="typing-text delay-2">&gt; Encriptaciรณn: Extremo-a-extremo</p>
                <p class="typing-text delay-3">&gt; Almacenamiento: NINGUNO (Memoria volรกtil)</p>
            </div>
            
            <div class="button-container">
                <button id="btn-create-room" class="terminal-button">
                    <span class="button-icon">โถ</span> CREAR NUEVA SALA
                </button>
                <button id="btn-join-room" class="terminal-button">
                    <span class="button-icon">โ</span> UNIRSE A SALA
                </button>
            </div>
        </div>

        <!-- Room Creation Screen -->
        <div id="create-room-screen" class="screen">
            <div class="screen-title">&gt; PROTOCOLO DE CREACIรN DE SALA</div>
            <div class="info-box">
                <p>&gt; Tu ID de sala รบnico ha sido generado:</p>
                <div class="room-id-display">
                    <input type="text" id="room-id" readonly />
                    <button id="btn-copy-id" class="icon-button" title="Copiar ID">๐</button>
                </div>
                <p class="warning-text">โ Comparte este ID solo con usuarios de confianza</p>
                <p>&gt; Esperando conexiones entrantes...</p>
            </div>
            <button id="btn-back-from-create" class="terminal-button secondary">
                <span class="button-icon">โ</span> ABORTAR MISIรN
            </button>
        </div>

        <!-- Room Join Screen -->
        <div id="join-room-screen" class="screen">
            <div class="screen-title">&gt; PROTOCOLO DE INFILTRACIรN</div>
            <div class="input-container">
                <label for="peer-id-input">&gt; Ingresa el ID de la sala objetivo:</label>
                <input type="text" id="peer-id-input" placeholder="Ingresa el ID del peer..." class="terminal-input" />
                <button id="btn-connect" class="terminal-button">
                    <span class="button-icon">โก</span> ESTABLECER CONEXIรN
                </button>
            </div>
            <button id="btn-back-from-join" class="terminal-button secondary">
                <span class="button-icon">โ</span> ABORTAR MISIรN
            </button>
        </div>

        <!-- Chat Screen -->
        <div id="chat-screen" class="screen">
            <div class="chat-header">
                <div>
                    <span>&gt; CANAL SEGURO ESTABLECIDO</span>
                    <span id="chat-peer-id" class="peer-id-small"></span>
                </div>
                <button id="btn-disconnect" class="icon-button danger">โ DESCONECTAR</button>
            </div>
            
            <div id="messages-container" class="messages-container"></div>
            
            <div class="input-area">
                <input 
                    type="text" 
                    id="message-input" 
                    placeholder="Escribe mensaje encriptado..." 
                    class="message-input"
                    autocomplete="off"
                />
                <button id="btn-send" class="send-button">ENVIAR โบ</button>
            </div>
        </div>
    </div>

    <!-- PeerJS CDN -->
    <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>
    <script src="app.js"></script>
</body>
</html>
